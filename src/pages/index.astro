---
import Layout from '../layouts/Layout.astro';
import CategoryGrid from '../components/CategoryGrid.astro';
import SearchBox from '../components/SearchBox.tsx';
import { t } from '../lib/translations';

const lang = Astro.url.pathname.startsWith('/fr') ? 'fr' : 'en';
---

<Layout title={t('home.title', lang)} lang={lang}>
  <div class="px-4 py-6">
    <div class="mb-6">
      <h1 class="text-2xl font-bold text-gray-900 mb-2">
        {t('home.title', lang)}
      </h1>
      <p class="text-gray-600">
        {t('home.subtitle', lang)}
      </p>
    </div>

    <SearchBox client:load lang={lang} />
    
    <h2 class="text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3 mt-6">
      {t('home.browse', lang)}
    </h2>

    <CategoryGrid lang={lang} />
  </div>
</Layout>

<style>
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
</style>